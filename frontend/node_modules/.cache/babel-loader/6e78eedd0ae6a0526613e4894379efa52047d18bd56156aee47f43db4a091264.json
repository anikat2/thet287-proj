{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\anika\\\\Desktop\\\\school\\\\freshman year\\\\thet287-proj\\\\src\\\\frontend\\\\Paint.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport { useEffect, useRef, useState, useCallback } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ROUND_DURATION = 30;\nconst WS_URL = \"ws://localhost:8000/ws\";\nconst CANVAS_WIDTH = 900;\nconst CANVAS_HEIGHT = 500;\nconst HALF = CANVAS_WIDTH / 2;\nfunction Timer({\n  seconds,\n  label\n}) {\n  const mins = String(Math.floor(seconds / 60)).padStart(2, \"0\");\n  const secs = String(seconds % 60).padStart(2, \"0\");\n  const urgent = seconds <= 30;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      fontFamily: \"'Courier New', monospace\",\n      fontSize: \"2.5rem\",\n      fontWeight: \"bold\",\n      color: urgent ? \"#ff4444\" : \"#f0e6d3\",\n      textShadow: urgent ? \"0 0 20px #ff444488\" : \"none\",\n      letterSpacing: \"0.1em\",\n      transition: \"color 0.3s\"\n    },\n    children: [label, \" \", mins, \":\", secs]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 14,\n    columnNumber: 9\n  }, this);\n}\n_c = Timer;\nfunction EndScreen({\n  humanCanvasRef,\n  aiCanvas\n}) {\n  _s();\n  const aiRef = useRef(null);\n  useEffect(() => {\n    if (!aiCanvas || !aiRef.current) return;\n    const img = new Image();\n    img.onload = () => {\n      const ctx = aiRef.current.getContext(\"2d\");\n      // Scale from 512x512 back to 900x500\n      ctx.drawImage(img, 0, 0, CANVAS_WIDTH, CANVAS_HEIGHT);\n    };\n    img.src = `data:image/png;base64,${aiCanvas}`;\n  }, [aiCanvas]);\n  const containerStyle = {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    gap: \"32px\",\n    padding: \"40px\"\n  };\n  const labelStyle = {\n    color: \"#a89bc2\",\n    fontFamily: \"'Courier New', monospace\",\n    letterSpacing: \"0.2em\",\n    fontSize: \"0.9rem\",\n    marginBottom: \"8px\",\n    textAlign: \"center\"\n  };\n  const canvasStyle = {\n    borderRadius: \"8px\",\n    boxShadow: \"0 0 40px #00000088\",\n    maxWidth: \"100%\",\n    border: \"2px solid #302b63\"\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: containerStyle,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        color: \"#f4a261\",\n        fontFamily: \"'Courier New', monospace\",\n        fontSize: \"2rem\",\n        letterSpacing: \"0.2em\"\n      },\n      children: \"\\uD83C\\uDFA8 GAME OVER\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: labelStyle,\n        children: \"\\uD83D\\uDC65 HUMAN COLLABORATION\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n        ref: humanCanvasRef,\n        width: CANVAS_WIDTH,\n        height: CANVAS_HEIGHT,\n        style: canvasStyle\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        color: \"#a89bc2\",\n        fontFamily: \"'Courier New', monospace\",\n        fontSize: \"1rem\",\n        letterSpacing: \"0.3em\"\n      },\n      children: \"VS\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: labelStyle,\n        children: \"\\uD83E\\uDD16 AI COMPLETION\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 17\n      }, this), aiCanvas ? /*#__PURE__*/_jsxDEV(\"canvas\", {\n        ref: aiRef,\n        width: CANVAS_WIDTH,\n        height: CANVAS_HEIGHT,\n        style: canvasStyle\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          width: CANVAS_WIDTH,\n          height: CANVAS_HEIGHT,\n          background: \"#1a1a3e\",\n          borderRadius: \"8px\",\n          display: \"flex\",\n          alignItems: \"center\",\n          justifyContent: \"center\",\n          color: \"#a89bc2\",\n          fontFamily: \"'Courier New', monospace\",\n          letterSpacing: \"0.15em\",\n          fontSize: \"1rem\",\n          border: \"2px solid #302b63\"\n        },\n        children: \"\\u23F3 AI IS PAINTING...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 9\n  }, this);\n}\n_s(EndScreen, \"EOawnOdh44KFzQQMJ6izffvzTGA=\");\n_c2 = EndScreen;\nexport default function Paint({\n  code,\n  playerId\n}) {\n  _s2();\n  const canvasRef = useRef(null);\n  const wsRef = useRef(null);\n  const drawingRef = useRef(false);\n  const lastPosRef = useRef({\n    x: 0,\n    y: 0\n  });\n  const ctxRef = useRef(null);\n  const [side, setSide] = useState(null);\n  const [round, setRound] = useState(1);\n  const [prompt, setPrompt] = useState(\"\");\n  const [timeLeft, setTimeLeft] = useState(ROUND_DURATION);\n  const [phase, setPhase] = useState(\"waiting\");\n  const [color, setColor] = useState(\"#1a1a2e\");\n  const [brushSize, setBrushSize] = useState(4);\n  const [tool, setTool] = useState(\"pen\");\n  const [aiCanvas, setAiCanvas] = useState(null);\n  const timerRef = useRef(null);\n  const roundRef = useRef(1);\n  const sideRef = useRef(null);\n  const clampX = useCallback((x, currentSide) => {\n    if (currentSide === \"left\") return Math.min(x, HALF);\n    if (currentSide === \"right\") return Math.max(x, HALF);\n    return x;\n  }, []);\n  const getCanvasPos = e => {\n    const canvas = canvasRef.current;\n    const rect = canvas.getBoundingClientRect();\n    const scaleX = CANVAS_WIDTH / rect.width;\n    const scaleY = CANVAS_HEIGHT / rect.height;\n    return {\n      x: (e.clientX - rect.left) * scaleX,\n      y: (e.clientY - rect.top) * scaleY\n    };\n  };\n  const drawStroke = useCallback((ctx, x0, y0, x1, y1, strokeColor, size, eraser) => {\n    ctx.save();\n    ctx.beginPath();\n    ctx.moveTo(x0, y0);\n    ctx.lineTo(x1, y1);\n    ctx.strokeStyle = eraser ? \"#f5f0e8\" : strokeColor;\n    ctx.lineWidth = eraser ? size * 3 : size;\n    ctx.lineCap = \"round\";\n    ctx.lineJoin = \"round\";\n    ctx.stroke();\n    ctx.restore();\n  }, []);\n  const drawDivider = useCallback(ctx => {\n    ctx.save();\n    ctx.strokeStyle = \"#cccccc66\";\n    ctx.lineWidth = 2;\n    ctx.setLineDash([8, 6]);\n    ctx.beginPath();\n    ctx.moveTo(HALF, 0);\n    ctx.lineTo(HALF, CANVAS_HEIGHT);\n    ctx.stroke();\n    ctx.setLineDash([]);\n    ctx.restore();\n  }, []);\n  const replayStrokes = useCallback((strokes, ctx) => {\n    strokes.forEach(s => {\n      if (s.type === \"stroke\") {\n        drawStroke(ctx, s.x0, s.y0, s.x1, s.y1, s.color, s.size, s.eraser);\n      }\n    });\n  }, [drawStroke]);\n  const getCanvasBase64 = useCallback(() => {\n    const canvas = canvasRef.current;\n    // Strip the data:image/png;base64, prefix\n    return canvas.toDataURL(\"image/png\").split(\",\")[1];\n  }, []);\n  const startTimer = useCallback(onDone => {\n    if (timerRef.current) clearInterval(timerRef.current);\n    setTimeLeft(ROUND_DURATION);\n    let t = ROUND_DURATION;\n    timerRef.current = setInterval(() => {\n      t -= 1;\n      setTimeLeft(t);\n      if (t <= 0) {\n        clearInterval(timerRef.current);\n        onDone();\n      }\n    }, 1000);\n  }, []);\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext(\"2d\");\n    ctxRef.current = ctx;\n    ctx.fillStyle = \"#f5f0e8\";\n    ctx.fillRect(0, 0, CANVAS_WIDTH, CANVAS_HEIGHT);\n    drawDivider(ctx);\n  }, [drawDivider]);\n  useEffect(() => {\n    if (!code || !playerId) return;\n    const ws = new WebSocket(`${WS_URL}/${code}/${playerId}`);\n    wsRef.current = ws;\n    ws.onmessage = event => {\n      const data = JSON.parse(event.data);\n      const ctx = ctxRef.current;\n      if (data.type === \"init\") {\n        setSide(data.side);\n        sideRef.current = data.side;\n        setPrompt(data.prompt);\n        setRound(data.round);\n        roundRef.current = data.round;\n      }\n      if (data.type === \"game_start\") {\n        setPhase(\"playing\");\n        startTimer(() => {\n          var _wsRef$current;\n          // Round 1 timer done ‚Äî send canvas snapshot + signal\n          const b64 = getCanvasBase64();\n          (_wsRef$current = wsRef.current) === null || _wsRef$current === void 0 ? void 0 : _wsRef$current.send(JSON.stringify({\n            type: \"round1_done\",\n            canvas_b64: b64\n          }));\n          setPhase(\"transition\");\n        });\n      }\n      if (data.type === \"partner_stroke\") {\n        const s = data.stroke;\n        drawStroke(ctx, s.x0, s.y0, s.x1, s.y1, s.color, s.size, s.eraser);\n      }\n      if (data.type === \"round2_start\") {\n        roundRef.current = 2;\n        setRound(2);\n        setSide(data.your_new_side);\n        sideRef.current = data.your_new_side;\n        replayStrokes(data.partner_strokes, ctx);\n        drawDivider(ctx);\n        setPhase(\"playing\");\n        startTimer(() => {\n          var _wsRef$current2;\n          (_wsRef$current2 = wsRef.current) === null || _wsRef$current2 === void 0 ? void 0 : _wsRef$current2.send(JSON.stringify({\n            type: \"game_over\"\n          }));\n          setPhase(\"gameover\");\n        });\n      }\n      if (data.type === \"game_over\") {\n        setPhase(\"gameover\");\n        if (timerRef.current) clearInterval(timerRef.current);\n        if (data.ai_canvas) setAiCanvas(data.ai_canvas);\n      }\n      if (data.type === \"ai_result_ready\") {\n        setAiCanvas(data.ai_canvas);\n      }\n    };\n    ws.onclose = () => console.log(\"WebSocket closed\");\n    return () => {\n      ws.close();\n      if (timerRef.current) clearInterval(timerRef.current);\n    };\n  }, [code, playerId, drawStroke, replayStrokes, drawDivider, startTimer, getCanvasBase64]);\n  const onMouseDown = e => {\n    if (phase !== \"playing\") return;\n    drawingRef.current = true;\n    const pos = getCanvasPos(e);\n    lastPosRef.current = {\n      x: clampX(pos.x, sideRef.current),\n      y: pos.y\n    };\n  };\n  const onMouseMove = e => {\n    var _wsRef$current3;\n    if (!drawingRef.current || phase !== \"playing\") return;\n    const ctx = ctxRef.current;\n    const pos = getCanvasPos(e);\n    const x1 = clampX(pos.x, sideRef.current);\n    const y1 = pos.y;\n    const {\n      x: x0,\n      y: y0\n    } = lastPosRef.current;\n    drawStroke(ctx, x0, y0, x1, y1, color, brushSize, tool === \"eraser\");\n    (_wsRef$current3 = wsRef.current) === null || _wsRef$current3 === void 0 ? void 0 : _wsRef$current3.send(JSON.stringify({\n      type: \"stroke\",\n      x0,\n      y0,\n      x1,\n      y1,\n      color,\n      size: brushSize,\n      eraser: tool === \"eraser\"\n    }));\n    lastPosRef.current = {\n      x: x1,\n      y: y1\n    };\n  };\n  const onMouseUp = () => {\n    drawingRef.current = false;\n  };\n  const colors = [\"#1a1a2e\", \"#e63946\", \"#457b9d\", \"#2d6a4f\", \"#f4a261\", \"#9b2226\", \"#6d6875\", \"#ffffff\"];\n  if (phase === \"gameover\") {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        minHeight: \"100vh\",\n        background: \"linear-gradient(135deg, #0f0c29, #302b63, #24243e)\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        overflowY: \"auto\",\n        padding: \"20px\"\n      },\n      children: /*#__PURE__*/_jsxDEV(EndScreen, {\n        humanCanvasRef: canvasRef,\n        aiCanvas: aiCanvas\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 336,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 327,\n      columnNumber: 13\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      minHeight: \"100vh\",\n      background: \"linear-gradient(135deg, #0f0c29, #302b63, #24243e)\",\n      display: \"flex\",\n      flexDirection: \"column\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      padding: \"20px\",\n      fontFamily: \"'Courier New', monospace\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        alignItems: \"center\",\n        width: \"100%\",\n        maxWidth: CANVAS_WIDTH,\n        marginBottom: \"12px\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: \"#a89bc2\",\n          fontSize: \"0.9rem\",\n          letterSpacing: \"0.15em\"\n        },\n        children: phase === \"waiting\" ? \"‚è≥ WAITING FOR HOST TO START...\" : phase === \"transition\" ? \"‚è≥ WAITING FOR ROUND 2...\" : side === \"left\" ? \"‚óÄ LEFT HALF\" : \"‚ñ∂ RIGHT HALF\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 360,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: \"#f0e6d3\",\n          fontSize: \"1rem\",\n          letterSpacing: \"0.1em\",\n          textAlign: \"center\"\n        },\n        children: [\"\\uD83C\\uDFA8 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: prompt || \"...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 366,\n          columnNumber: 24\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 365,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: \"#a89bc2\",\n          fontSize: \"0.9rem\",\n          letterSpacing: \"0.15em\"\n        },\n        children: phase === \"playing\" ? `ROUND ${round}` : \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 368,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 352,\n      columnNumber: 13\n    }, this), phase === \"playing\" && /*#__PURE__*/_jsxDEV(Timer, {\n      seconds: timeLeft,\n      label: `ROUND ${round}`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 374,\n      columnNumber: 17\n    }, this), phase === \"playing\" && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        color: \"#a89bc2\",\n        fontSize: \"0.8rem\",\n        letterSpacing: \"0.2em\",\n        marginBottom: \"8px\"\n      },\n      children: round === 1 ? \"ROUND 1 ‚Äî Draw your half\" : \"ROUND 2 ‚Äî Complete your partner's canvas\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 378,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: \"relative\",\n        boxShadow: \"0 0 60px #00000088\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"canvas\", {\n        ref: canvasRef,\n        width: CANVAS_WIDTH,\n        height: CANVAS_HEIGHT,\n        style: {\n          display: \"block\",\n          maxWidth: \"100%\",\n          cursor: phase === \"playing\" ? tool === \"eraser\" ? \"cell\" : \"crosshair\" : \"default\",\n          borderRadius: \"4px\",\n          border: \"2px solid #302b63\"\n        },\n        onMouseDown: onMouseDown,\n        onMouseMove: onMouseMove,\n        onMouseUp: onMouseUp,\n        onMouseLeave: onMouseUp\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 384,\n        columnNumber: 17\n      }, this), phase === \"playing\" && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: \"absolute\",\n          top: 8,\n          left: side === \"left\" ? 8 : HALF + 8,\n          background: \"#302b6388\",\n          color: \"#f0e6d3\",\n          padding: \"4px 10px\",\n          borderRadius: \"4px\",\n          fontSize: \"0.75rem\",\n          letterSpacing: \"0.1em\",\n          pointerEvents: \"none\"\n        },\n        children: \"YOUR ZONE\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 401,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 383,\n      columnNumber: 13\n    }, this), phase === \"playing\" && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        gap: \"12px\",\n        alignItems: \"center\",\n        marginTop: \"16px\",\n        background: \"#1a1a3e\",\n        padding: \"12px 20px\",\n        borderRadius: \"50px\",\n        boxShadow: \"0 4px 20px #00000066\"\n      },\n      children: [colors.map(c => /*#__PURE__*/_jsxDEV(\"div\", {\n        onClick: () => {\n          setColor(c);\n          setTool(\"pen\");\n        },\n        style: {\n          width: 28,\n          height: 28,\n          borderRadius: \"50%\",\n          background: c,\n          cursor: \"pointer\",\n          border: color === c && tool === \"pen\" ? \"3px solid #f0e6d3\" : \"3px solid transparent\",\n          boxShadow: c === \"#ffffff\" ? \"0 0 0 1px #666 inset\" : \"none\",\n          transition: \"transform 0.1s\",\n          transform: color === c && tool === \"pen\" ? \"scale(1.2)\" : \"scale(1)\"\n        }\n      }, c, false, {\n        fileName: _jsxFileName,\n        lineNumber: 430,\n        columnNumber: 25\n      }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          width: 1,\n          height: 28,\n          background: \"#ffffff22\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 445,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setTool(tool === \"eraser\" ? \"pen\" : \"eraser\"),\n        style: {\n          background: tool === \"eraser\" ? \"#f0e6d3\" : \"transparent\",\n          color: tool === \"eraser\" ? \"#1a1a2e\" : \"#f0e6d3\",\n          border: \"2px solid #f0e6d344\",\n          borderRadius: \"20px\",\n          padding: \"4px 14px\",\n          cursor: \"pointer\",\n          fontFamily: \"inherit\",\n          fontSize: \"0.8rem\",\n          letterSpacing: \"0.1em\"\n        },\n        children: \"ERASER\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 446,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"range\",\n        min: 2,\n        max: 24,\n        value: brushSize,\n        onChange: e => setBrushSize(Number(e.target.value)),\n        style: {\n          width: 80,\n          accentColor: \"#a89bc2\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 462,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 419,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 342,\n    columnNumber: 9\n  }, this);\n}\n_s2(Paint, \"oMz2yTtxXH7XfVgpSrtzLpd67cQ=\");\n_c3 = Paint;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"Timer\");\n$RefreshReg$(_c2, \"EndScreen\");\n$RefreshReg$(_c3, \"Paint\");","map":{"version":3,"names":["useEffect","useRef","useState","useCallback","jsxDEV","_jsxDEV","ROUND_DURATION","WS_URL","CANVAS_WIDTH","CANVAS_HEIGHT","HALF","Timer","seconds","label","mins","String","Math","floor","padStart","secs","urgent","style","fontFamily","fontSize","fontWeight","color","textShadow","letterSpacing","transition","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","EndScreen","humanCanvasRef","aiCanvas","_s","aiRef","current","img","Image","onload","ctx","getContext","drawImage","src","containerStyle","display","flexDirection","alignItems","gap","padding","labelStyle","marginBottom","textAlign","canvasStyle","borderRadius","boxShadow","maxWidth","border","ref","width","height","background","justifyContent","_c2","Paint","code","playerId","_s2","canvasRef","wsRef","drawingRef","lastPosRef","x","y","ctxRef","side","setSide","round","setRound","prompt","setPrompt","timeLeft","setTimeLeft","phase","setPhase","setColor","brushSize","setBrushSize","tool","setTool","setAiCanvas","timerRef","roundRef","sideRef","clampX","currentSide","min","max","getCanvasPos","e","canvas","rect","getBoundingClientRect","scaleX","scaleY","clientX","left","clientY","top","drawStroke","x0","y0","x1","y1","strokeColor","size","eraser","save","beginPath","moveTo","lineTo","strokeStyle","lineWidth","lineCap","lineJoin","stroke","restore","drawDivider","setLineDash","replayStrokes","strokes","forEach","s","type","getCanvasBase64","toDataURL","split","startTimer","onDone","clearInterval","t","setInterval","fillStyle","fillRect","ws","WebSocket","onmessage","event","data","JSON","parse","_wsRef$current","b64","send","stringify","canvas_b64","your_new_side","partner_strokes","_wsRef$current2","ai_canvas","onclose","console","log","close","onMouseDown","pos","onMouseMove","_wsRef$current3","onMouseUp","colors","minHeight","overflowY","position","cursor","onMouseLeave","pointerEvents","marginTop","map","c","onClick","transform","value","onChange","Number","target","accentColor","_c3","$RefreshReg$"],"sources":["C:/Users/anika/Desktop/school/freshman year/thet287-proj/src/frontend/Paint.js"],"sourcesContent":["import { useEffect, useRef, useState, useCallback } from \"react\";\r\n\r\nconst ROUND_DURATION = 30;\r\nconst WS_URL = \"ws://localhost:8000/ws\";\r\nconst CANVAS_WIDTH = 900;\r\nconst CANVAS_HEIGHT = 500;\r\nconst HALF = CANVAS_WIDTH / 2;\r\n\r\nfunction Timer({ seconds, label }) {\r\n    const mins = String(Math.floor(seconds / 60)).padStart(2, \"0\");\r\n    const secs = String(seconds % 60).padStart(2, \"0\");\r\n    const urgent = seconds <= 30;\r\n    return (\r\n        <div style={{\r\n            fontFamily: \"'Courier New', monospace\",\r\n            fontSize: \"2.5rem\",\r\n            fontWeight: \"bold\",\r\n            color: urgent ? \"#ff4444\" : \"#f0e6d3\",\r\n            textShadow: urgent ? \"0 0 20px #ff444488\" : \"none\",\r\n            letterSpacing: \"0.1em\",\r\n            transition: \"color 0.3s\",\r\n        }}>\r\n            {label} {mins}:{secs}\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction EndScreen({ humanCanvasRef, aiCanvas }) {\r\n    const aiRef = useRef(null);\r\n\r\n    useEffect(() => {\r\n        if (!aiCanvas || !aiRef.current) return;\r\n        const img = new Image();\r\n        img.onload = () => {\r\n            const ctx = aiRef.current.getContext(\"2d\");\r\n            // Scale from 512x512 back to 900x500\r\n            ctx.drawImage(img, 0, 0, CANVAS_WIDTH, CANVAS_HEIGHT);\r\n        };\r\n        img.src = `data:image/png;base64,${aiCanvas}`;\r\n    }, [aiCanvas]);\r\n\r\n    const containerStyle = {\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        alignItems: \"center\",\r\n        gap: \"32px\",\r\n        padding: \"40px\",\r\n    };\r\n\r\n    const labelStyle = {\r\n        color: \"#a89bc2\",\r\n        fontFamily: \"'Courier New', monospace\",\r\n        letterSpacing: \"0.2em\",\r\n        fontSize: \"0.9rem\",\r\n        marginBottom: \"8px\",\r\n        textAlign: \"center\",\r\n    };\r\n\r\n    const canvasStyle = {\r\n        borderRadius: \"8px\",\r\n        boxShadow: \"0 0 40px #00000088\",\r\n        maxWidth: \"100%\",\r\n        border: \"2px solid #302b63\",\r\n    };\r\n\r\n    return (\r\n        <div style={containerStyle}>\r\n            <div style={{\r\n                color: \"#f4a261\",\r\n                fontFamily: \"'Courier New', monospace\",\r\n                fontSize: \"2rem\",\r\n                letterSpacing: \"0.2em\",\r\n            }}>\r\n                üé® GAME OVER\r\n            </div>\r\n\r\n            <div>\r\n                <div style={labelStyle}>üë• HUMAN COLLABORATION</div>\r\n                <canvas\r\n                    ref={humanCanvasRef}\r\n                    width={CANVAS_WIDTH}\r\n                    height={CANVAS_HEIGHT}\r\n                    style={canvasStyle}\r\n                />\r\n            </div>\r\n\r\n            <div style={{\r\n                color: \"#a89bc2\",\r\n                fontFamily: \"'Courier New', monospace\",\r\n                fontSize: \"1rem\",\r\n                letterSpacing: \"0.3em\",\r\n            }}>VS</div>\r\n\r\n            <div>\r\n                <div style={labelStyle}>ü§ñ AI COMPLETION</div>\r\n                {aiCanvas ? (\r\n                    <canvas\r\n                        ref={aiRef}\r\n                        width={CANVAS_WIDTH}\r\n                        height={CANVAS_HEIGHT}\r\n                        style={canvasStyle}\r\n                    />\r\n                ) : (\r\n                    <div style={{\r\n                        width: CANVAS_WIDTH,\r\n                        height: CANVAS_HEIGHT,\r\n                        background: \"#1a1a3e\",\r\n                        borderRadius: \"8px\",\r\n                        display: \"flex\",\r\n                        alignItems: \"center\",\r\n                        justifyContent: \"center\",\r\n                        color: \"#a89bc2\",\r\n                        fontFamily: \"'Courier New', monospace\",\r\n                        letterSpacing: \"0.15em\",\r\n                        fontSize: \"1rem\",\r\n                        border: \"2px solid #302b63\",\r\n                    }}>\r\n                        ‚è≥ AI IS PAINTING...\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default function Paint({ code, playerId }) {\r\n    const canvasRef = useRef(null);\r\n    const wsRef = useRef(null);\r\n    const drawingRef = useRef(false);\r\n    const lastPosRef = useRef({ x: 0, y: 0 });\r\n    const ctxRef = useRef(null);\r\n\r\n    const [side, setSide] = useState(null);\r\n    const [round, setRound] = useState(1);\r\n    const [prompt, setPrompt] = useState(\"\");\r\n    const [timeLeft, setTimeLeft] = useState(ROUND_DURATION);\r\n    const [phase, setPhase] = useState(\"waiting\");\r\n    const [color, setColor] = useState(\"#1a1a2e\");\r\n    const [brushSize, setBrushSize] = useState(4);\r\n    const [tool, setTool] = useState(\"pen\");\r\n    const [aiCanvas, setAiCanvas] = useState(null);\r\n    const timerRef = useRef(null);\r\n    const roundRef = useRef(1);\r\n    const sideRef = useRef(null);\r\n\r\n    const clampX = useCallback((x, currentSide) => {\r\n        if (currentSide === \"left\") return Math.min(x, HALF);\r\n        if (currentSide === \"right\") return Math.max(x, HALF);\r\n        return x;\r\n    }, []);\r\n\r\n    const getCanvasPos = (e) => {\r\n        const canvas = canvasRef.current;\r\n        const rect = canvas.getBoundingClientRect();\r\n        const scaleX = CANVAS_WIDTH / rect.width;\r\n        const scaleY = CANVAS_HEIGHT / rect.height;\r\n        return {\r\n            x: (e.clientX - rect.left) * scaleX,\r\n            y: (e.clientY - rect.top) * scaleY,\r\n        };\r\n    };\r\n\r\n    const drawStroke = useCallback((ctx, x0, y0, x1, y1, strokeColor, size, eraser) => {\r\n        ctx.save();\r\n        ctx.beginPath();\r\n        ctx.moveTo(x0, y0);\r\n        ctx.lineTo(x1, y1);\r\n        ctx.strokeStyle = eraser ? \"#f5f0e8\" : strokeColor;\r\n        ctx.lineWidth = eraser ? size * 3 : size;\r\n        ctx.lineCap = \"round\";\r\n        ctx.lineJoin = \"round\";\r\n        ctx.stroke();\r\n        ctx.restore();\r\n    }, []);\r\n\r\n    const drawDivider = useCallback((ctx) => {\r\n        ctx.save();\r\n        ctx.strokeStyle = \"#cccccc66\";\r\n        ctx.lineWidth = 2;\r\n        ctx.setLineDash([8, 6]);\r\n        ctx.beginPath();\r\n        ctx.moveTo(HALF, 0);\r\n        ctx.lineTo(HALF, CANVAS_HEIGHT);\r\n        ctx.stroke();\r\n        ctx.setLineDash([]);\r\n        ctx.restore();\r\n    }, []);\r\n\r\n    const replayStrokes = useCallback((strokes, ctx) => {\r\n        strokes.forEach((s) => {\r\n            if (s.type === \"stroke\") {\r\n                drawStroke(ctx, s.x0, s.y0, s.x1, s.y1, s.color, s.size, s.eraser);\r\n            }\r\n        });\r\n    }, [drawStroke]);\r\n\r\n    const getCanvasBase64 = useCallback(() => {\r\n        const canvas = canvasRef.current;\r\n        // Strip the data:image/png;base64, prefix\r\n        return canvas.toDataURL(\"image/png\").split(\",\")[1];\r\n    }, []);\r\n\r\n    const startTimer = useCallback((onDone) => {\r\n        if (timerRef.current) clearInterval(timerRef.current);\r\n        setTimeLeft(ROUND_DURATION);\r\n        let t = ROUND_DURATION;\r\n        timerRef.current = setInterval(() => {\r\n            t -= 1;\r\n            setTimeLeft(t);\r\n            if (t <= 0) {\r\n                clearInterval(timerRef.current);\r\n                onDone();\r\n            }\r\n        }, 1000);\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        const canvas = canvasRef.current;\r\n        const ctx = canvas.getContext(\"2d\");\r\n        ctxRef.current = ctx;\r\n        ctx.fillStyle = \"#f5f0e8\";\r\n        ctx.fillRect(0, 0, CANVAS_WIDTH, CANVAS_HEIGHT);\r\n        drawDivider(ctx);\r\n    }, [drawDivider]);\r\n\r\n    useEffect(() => {\r\n        if (!code || !playerId) return;\r\n\r\n        const ws = new WebSocket(`${WS_URL}/${code}/${playerId}`);\r\n        wsRef.current = ws;\r\n\r\n        ws.onmessage = (event) => {\r\n            const data = JSON.parse(event.data);\r\n            const ctx = ctxRef.current;\r\n\r\n            if (data.type === \"init\") {\r\n                setSide(data.side);\r\n                sideRef.current = data.side;\r\n                setPrompt(data.prompt);\r\n                setRound(data.round);\r\n                roundRef.current = data.round;\r\n            }\r\n\r\n            if (data.type === \"game_start\") {\r\n                setPhase(\"playing\");\r\n                startTimer(() => {\r\n                    // Round 1 timer done ‚Äî send canvas snapshot + signal\r\n                    const b64 = getCanvasBase64();\r\n                    wsRef.current?.send(JSON.stringify({\r\n                        type: \"round1_done\",\r\n                        canvas_b64: b64,\r\n                    }));\r\n                    setPhase(\"transition\");\r\n                });\r\n            }\r\n\r\n            if (data.type === \"partner_stroke\") {\r\n                const s = data.stroke;\r\n                drawStroke(ctx, s.x0, s.y0, s.x1, s.y1, s.color, s.size, s.eraser);\r\n            }\r\n\r\n            if (data.type === \"round2_start\") {\r\n                roundRef.current = 2;\r\n                setRound(2);\r\n                setSide(data.your_new_side);\r\n                sideRef.current = data.your_new_side;\r\n\r\n                replayStrokes(data.partner_strokes, ctx);\r\n                drawDivider(ctx);\r\n\r\n                setPhase(\"playing\");\r\n                startTimer(() => {\r\n                    wsRef.current?.send(JSON.stringify({ type: \"game_over\" }));\r\n                    setPhase(\"gameover\");\r\n                });\r\n            }\r\n\r\n            if (data.type === \"game_over\") {\r\n                setPhase(\"gameover\");\r\n                if (timerRef.current) clearInterval(timerRef.current);\r\n                if (data.ai_canvas) setAiCanvas(data.ai_canvas);\r\n            }\r\n\r\n            if (data.type === \"ai_result_ready\") {\r\n                setAiCanvas(data.ai_canvas);\r\n            }\r\n        };\r\n\r\n        ws.onclose = () => console.log(\"WebSocket closed\");\r\n\r\n        return () => {\r\n            ws.close();\r\n            if (timerRef.current) clearInterval(timerRef.current);\r\n        };\r\n    }, [code, playerId, drawStroke, replayStrokes, drawDivider, startTimer, getCanvasBase64]);\r\n\r\n    const onMouseDown = (e) => {\r\n        if (phase !== \"playing\") return;\r\n        drawingRef.current = true;\r\n        const pos = getCanvasPos(e);\r\n        lastPosRef.current = { x: clampX(pos.x, sideRef.current), y: pos.y };\r\n    };\r\n\r\n    const onMouseMove = (e) => {\r\n        if (!drawingRef.current || phase !== \"playing\") return;\r\n        const ctx = ctxRef.current;\r\n        const pos = getCanvasPos(e);\r\n        const x1 = clampX(pos.x, sideRef.current);\r\n        const y1 = pos.y;\r\n        const { x: x0, y: y0 } = lastPosRef.current;\r\n\r\n        drawStroke(ctx, x0, y0, x1, y1, color, brushSize, tool === \"eraser\");\r\n\r\n        wsRef.current?.send(JSON.stringify({\r\n            type: \"stroke\", x0, y0, x1, y1,\r\n            color, size: brushSize, eraser: tool === \"eraser\",\r\n        }));\r\n        lastPosRef.current = { x: x1, y: y1 };\r\n    };\r\n\r\n    const onMouseUp = () => { drawingRef.current = false; };\r\n\r\n    const colors = [\"#1a1a2e\", \"#e63946\", \"#457b9d\", \"#2d6a4f\", \"#f4a261\", \"#9b2226\", \"#6d6875\", \"#ffffff\"];\r\n\r\n    if (phase === \"gameover\") {\r\n        return (\r\n            <div style={{\r\n                minHeight: \"100vh\",\r\n                background: \"linear-gradient(135deg, #0f0c29, #302b63, #24243e)\",\r\n                display: \"flex\",\r\n                flexDirection: \"column\",\r\n                alignItems: \"center\",\r\n                overflowY: \"auto\",\r\n                padding: \"20px\",\r\n            }}>\r\n                <EndScreen humanCanvasRef={canvasRef} aiCanvas={aiCanvas} />\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div style={{\r\n            minHeight: \"100vh\",\r\n            background: \"linear-gradient(135deg, #0f0c29, #302b63, #24243e)\",\r\n            display: \"flex\",\r\n            flexDirection: \"column\",\r\n            alignItems: \"center\",\r\n            justifyContent: \"center\",\r\n            padding: \"20px\",\r\n            fontFamily: \"'Courier New', monospace\",\r\n        }}>\r\n            <div style={{\r\n                display: \"flex\",\r\n                justifyContent: \"space-between\",\r\n                alignItems: \"center\",\r\n                width: \"100%\",\r\n                maxWidth: CANVAS_WIDTH,\r\n                marginBottom: \"12px\",\r\n            }}>\r\n                <div style={{ color: \"#a89bc2\", fontSize: \"0.9rem\", letterSpacing: \"0.15em\" }}>\r\n                    {phase === \"waiting\" ? \"‚è≥ WAITING FOR HOST TO START...\" :\r\n                     phase === \"transition\" ? \"‚è≥ WAITING FOR ROUND 2...\" :\r\n                     side === \"left\" ? \"‚óÄ LEFT HALF\" : \"‚ñ∂ RIGHT HALF\"}\r\n                </div>\r\n                <div style={{ color: \"#f0e6d3\", fontSize: \"1rem\", letterSpacing: \"0.1em\", textAlign: \"center\" }}>\r\n                    üé® <strong>{prompt || \"...\"}</strong>\r\n                </div>\r\n                <div style={{ color: \"#a89bc2\", fontSize: \"0.9rem\", letterSpacing: \"0.15em\" }}>\r\n                    {phase === \"playing\" ? `ROUND ${round}` : \"\"}\r\n                </div>\r\n            </div>\r\n\r\n            {phase === \"playing\" && (\r\n                <Timer seconds={timeLeft} label={`ROUND ${round}`} />\r\n            )}\r\n\r\n            {phase === \"playing\" && (\r\n                <div style={{ color: \"#a89bc2\", fontSize: \"0.8rem\", letterSpacing: \"0.2em\", marginBottom: \"8px\" }}>\r\n                    {round === 1 ? \"ROUND 1 ‚Äî Draw your half\" : \"ROUND 2 ‚Äî Complete your partner's canvas\"}\r\n                </div>\r\n            )}\r\n\r\n            <div style={{ position: \"relative\", boxShadow: \"0 0 60px #00000088\" }}>\r\n                <canvas\r\n                    ref={canvasRef}\r\n                    width={CANVAS_WIDTH}\r\n                    height={CANVAS_HEIGHT}\r\n                    style={{\r\n                        display: \"block\",\r\n                        maxWidth: \"100%\",\r\n                        cursor: phase === \"playing\" ? (tool === \"eraser\" ? \"cell\" : \"crosshair\") : \"default\",\r\n                        borderRadius: \"4px\",\r\n                        border: \"2px solid #302b63\",\r\n                    }}\r\n                    onMouseDown={onMouseDown}\r\n                    onMouseMove={onMouseMove}\r\n                    onMouseUp={onMouseUp}\r\n                    onMouseLeave={onMouseUp}\r\n                />\r\n                {phase === \"playing\" && (\r\n                    <div style={{\r\n                        position: \"absolute\",\r\n                        top: 8,\r\n                        left: side === \"left\" ? 8 : HALF + 8,\r\n                        background: \"#302b6388\",\r\n                        color: \"#f0e6d3\",\r\n                        padding: \"4px 10px\",\r\n                        borderRadius: \"4px\",\r\n                        fontSize: \"0.75rem\",\r\n                        letterSpacing: \"0.1em\",\r\n                        pointerEvents: \"none\",\r\n                    }}>\r\n                        YOUR ZONE\r\n                    </div>\r\n                )}\r\n            </div>\r\n\r\n            {phase === \"playing\" && (\r\n                <div style={{\r\n                    display: \"flex\",\r\n                    gap: \"12px\",\r\n                    alignItems: \"center\",\r\n                    marginTop: \"16px\",\r\n                    background: \"#1a1a3e\",\r\n                    padding: \"12px 20px\",\r\n                    borderRadius: \"50px\",\r\n                    boxShadow: \"0 4px 20px #00000066\",\r\n                }}>\r\n                    {colors.map(c => (\r\n                        <div\r\n                            key={c}\r\n                            onClick={() => { setColor(c); setTool(\"pen\"); }}\r\n                            style={{\r\n                                width: 28, height: 28,\r\n                                borderRadius: \"50%\",\r\n                                background: c,\r\n                                cursor: \"pointer\",\r\n                                border: color === c && tool === \"pen\" ? \"3px solid #f0e6d3\" : \"3px solid transparent\",\r\n                                boxShadow: c === \"#ffffff\" ? \"0 0 0 1px #666 inset\" : \"none\",\r\n                                transition: \"transform 0.1s\",\r\n                                transform: color === c && tool === \"pen\" ? \"scale(1.2)\" : \"scale(1)\",\r\n                            }}\r\n                        />\r\n                    ))}\r\n                    <div style={{ width: 1, height: 28, background: \"#ffffff22\" }} />\r\n                    <button\r\n                        onClick={() => setTool(tool === \"eraser\" ? \"pen\" : \"eraser\")}\r\n                        style={{\r\n                            background: tool === \"eraser\" ? \"#f0e6d3\" : \"transparent\",\r\n                            color: tool === \"eraser\" ? \"#1a1a2e\" : \"#f0e6d3\",\r\n                            border: \"2px solid #f0e6d344\",\r\n                            borderRadius: \"20px\",\r\n                            padding: \"4px 14px\",\r\n                            cursor: \"pointer\",\r\n                            fontFamily: \"inherit\",\r\n                            fontSize: \"0.8rem\",\r\n                            letterSpacing: \"0.1em\",\r\n                        }}\r\n                    >\r\n                        ERASER\r\n                    </button>\r\n                    <input\r\n                        type=\"range\" min={2} max={24} value={brushSize}\r\n                        onChange={e => setBrushSize(Number(e.target.value))}\r\n                        style={{ width: 80, accentColor: \"#a89bc2\" }}\r\n                    />\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}